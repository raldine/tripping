<p-toast id="toastMod"></p-toast> <!-- Toast container to show the toast notifications -->
<div class="formPage">
    <div class="card">
        <form [formGroup]="newTripForm" (submit)="onSubmit()">
            <div class="mb-2">
                <label for="trip_name" class="mb-0.5 block">Name of this Trip:</label><br>
                <input class="w-full" pInputText type="text" id="trip_name" formControlName="trip_name"><br><br>
            </div>
            <div class="mb-2">
                <label for="destinationCity" class="mb-0.5 block">Destination City:</label><br>
                <input class="w-full" pInputText type="text" id="destinationCity"
                    placeholder="Search your city-country of your destination"><br>
                <small>{{ printDestinationInfo$ | async}}</small><br>
            </div>

            <div class="mb-2">
                <label for="start_date" class="mb-0.5 block">Start Date of Trip:</label><br>
                <input  type="date" formControlName="start_date">

            </div>
            <div class="mb-4">
                <label for="end_date" class="mb-0.5 block">End Date of Trip:</label><br>
                <input  type="date" formControlName="end_date"><br>
            </div>

            <div class="mb-2">
                <label for="description_t" class="mb-0.5 block">Description for this Trip (Optional):</label><br>
                <textarea class="w-full" rows="4" cols="30" pTextarea formControlName="description_t"
                    placeholder="Enter an optional description here."></textarea><br>

            </div>

            <div class="mb-2">
                <!-- Image Upload Section -->
                <label for="cover_image" class="mb-0.5 block">Upload an Image to set a Cover Image for this Trip:</label><br>
                <input type="file" accept=".png, .jpeg, .jpg"
                    (change)="onFileSelected($event)"><br><br>
            </div>



            <!-- Image Preview -->
            <div *ngIf="dataUri.length!=0">
                <label class="mb-0.5 block">Image Preview:</label><br>
                <img [src]="dataUri" alt="Cover Image Preview" style="max-width: 30%; height: auto;">

                <button type="button" (click)="cancelImage()">Remove image</button>
            </div>
            <div>
                <button type="submit">Submit</button>
            </div>


        </form>
    </div>


    <div>
        <!-- Loading Spinner -->
        <!-- Full-screen overlay when isUploading is true -->
        <div *ngIf="isUploading" class="overlay">
            <p-progress-spinner ariaLabel="loading"></p-progress-spinner>
        </div>

    </div>

</div>