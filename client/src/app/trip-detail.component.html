<div id="header-for-tripdetail">
    <div class="img-wrapper">
        <img [src]="selected_trip_cover_img" alt="Background Image" width="100%" height="100%" loading="lazy"
            decoding="async">
        <div class="overlay-black"></div>
        <div class="trip-details-info">
            <h1>Your trip at a glance:</h1>
            <div class="cards-info">
                <p-card id="trip-info-card"
                    [style]="{ borderTop: '8px solid #6B79F7', overflow: 'hidden', padding: '8px 16px 16px 16px' }">
                    <ng-template #header>
                        <p class="label-brand-color"><i class="pi pi-calendar mr-1"></i>{{ selected_tripInfo?.start_date
                            ?? '' | dateFormat }} to {{ selected_tripInfo?.end_date ?? '' | dateFormat }}</p>
                    </ng-template>
                    <ng-template #title>{{ selected_tripInfo?.trip_name }}</ng-template>
                    <p>{{ selected_tripInfo?.description_t}}</p>
                    <ng-template #footer>
                        <div class="flex gap-4 mt-1">
                            <label>Created by: {{ selected_trip_master_name }}</label>
                        </div>
                    </ng-template>
                </p-card>
                <!-- flight card -->
                <p-card id="flight-info-card"
                    [style]="{ borderTop: '8px solid #2C43C4', overflow: 'hidden', padding: '8px 16px 16px 16px' }">
                    <ng-template #header>

                    </ng-template>
                    <ng-template #title>nonono</ng-template>
                    <p>helosodasdadsa</p>
                    <ng-template #footer>
                        <div class="flex gap-4 mt-1">
                            <label>dasdasdsadas</label>
                        </div>
                    </ng-template>
                </p-card>
                <!-- end of flight card -->
                @if(accomms_array.length>0){
                <!-- accommodation card if HAVE acc-->
                <p-card id="acc-info-card"
                    [style]="{ borderTop: '8px solid #6DCB6A', overflow: 'hidden', padding: '8px 16px 16px 16px' }">
                    <ng-template #header>
                        <p class="label-green-color"><i class="pi pi-calendar mr-1"></i>{{
                            accomms_array[0].check_in_date | dateFormat }} to {{ accomms_array[0].check_out_date |
                            dateFormat }}</p>
                    </ng-template>
                    <ng-template #title>{{ accomms_array[0].accommodation_name }}</ng-template>
                    <p>{{ accomms_0_location }}</p>
                    <div class="checkincheckoutcontainer">
                        <div class="check-in">
                            <label>Check In:</label>
                            <p>{{ accomms_array[0].check_in_date | dateFormat }}</p>
                            <p>{{ accomms_array[0].check_in_time | timeFormat}}</p>
                        </div>
                        <div class="check-out">
                            <label>Check Out:</label>
                            <p>{{ accomms_array[0].check_out_date | dateFormat }}</p>
                            <p>{{ accomms_array[0].check_out_time | timeFormat}}</p>
                        </div>
                    </div>
                    <ng-template #footer>
                        <div class="flex gap-4 mt-1">
                            <label>dasdasdsadas</label>
                            <a (click)="navigateToAccommodationNew()" class="nav-link">Add Accommodation Details</a>
                        </div>
                    </ng-template>
                </p-card>

                <!-- end of accommodation card if HAVE acc -->

                } @else {
                <!-- accommodation card if no acc-->
                <p-card id="acc-info-card"
                    [style]="{ borderTop: '8px solid #6DCB6A', overflow: 'hidden', padding: '8px 16px 16px 16px' }">
                    <ng-template #header>

                    </ng-template>
                    <ng-template #title>nonono</ng-template>
                    <p>helosodasdadsa</p>
                    <ng-template #footer>
                        <div class="flex gap-4 mt-1">
                            <label>dasdasdsadas</label>
                            <a (click)="navigateToAccommodationNew()" class="nav-link">Add Accommodation Details</a>
                        </div>
                    </ng-template>
                </p-card>

                <!-- end of accommodation card if no acc -->

                }



            </div>

        </div>
    </div>
</div>
<div class="trip-detail-main-body">
    <div></div>
    <div class="itinerary-builder">
        <label class="label-green-color">Quick jump to day:</label><br><br>
        <div class="flex justify-center gap-2 flex-wrap" [style]="{ backgroundColor: 'white'}">
            @for(tab of scrollableTabs; track tab.value){
            <p-button (onClick)="selectTab(tab.value)" rounded="true"
                styleClass="flex items-center justify-center text-sm" [outlined]="tabValue !== tab.value"
                [label]="'D' + (tab.value + 1)" />
            }
        </div>
        <p-tabs [value]="tabValue" (valueChange)="onTabChange($event)" [style]="{ width: '100%' }">
            <p-tablist [style]="{ maxWidth: '100%', display: 'flex', overflowX: 'auto', whiteSpace: 'nowrap'}">
                @for(tab of scrollableTabs; track tab.value){
                <p-tab [value]="tab.value">
                    {{ tab.title }}
                </p-tab>
                }
            </p-tablist>
            <p-tabpanels>
                @for(tab of scrollableTabs; track tab.value){
                <p-tabpanel [value]="tab.value">
                    <h4 class="m-2" style="font-weight: bold;">{{ tab.content }}</h4>
                </p-tabpanel>
                }
            </p-tabpanels>
        </p-tabs>
        @if(currentActivitiesForSelectedItn!==null){
           
                <div [style]="{ width: '100%' }">
                   @for(act of currentActivitiesForSelectedItn; track act.activity_id){
                    <div>
                        {{ act.start_time }} - {{ act.end_time }}
                    </div>
                    <div>
                        {{ act.event_name }}
                    </div>
                   }
                </div>

            
        } @else {
            <div [style]="{ width: '100%' }">
               <h3>No activities for this day at the moment.</h3>
            </div>

        }
        

    </div>
    <div></div>

</div>