
<div>
@if (currUser) {
    <div>
        @if (user_pp_url) {
            <p-avatar image="{{ user_pp_url }}" class="mr-2" size="xlarge" shape="circle" />
        } @else {
            <p-avatar [label]="currUser.displayName?.substring(0)" styleClass="mr-2" shape="circle" size="xlarge" />
        }
        
        <h3>Welcome, {{ currUser.displayName }}</h3>
        <small>Email: {{ currUser.email }}</small>
    </div>

    <h2>Let's find out more about you!</h2>

    <form [formGroup]="registerForm" (submit)="processForm()">
        <label for="username">Preferred Display Name:</label><br>
        <input pInputText type="text" id="username" formControlName="user_name"><br><br>

        <label for="originCityCountry">City/Country of Origin:</label><br>
        <input pInputText type="text" id="originCityCountry" placeholder="Search your city-country of residence"><br><br>

        <input pInputText type="hidden" formControlName="country_origin"><br><br>

        <label for="timezoneOrigin">Origin Timezone:</label><br>
        <input pInputText type="text" id="timezoneOrigin" formControlName="timezone_origin" placeholder="(Will be auto-populated)" readonly><br>
        <small>{{ printTimeZoneName$ | async}}</small><br>

        Default Currency:<br>
        <input pInputText type="text" formControlName="currency_origin"><br><br>

        Do you prefer to receive notifications:<br>
        <p-radiobutton [value]="true" formControlName="notif" inputId="Yes"></p-radiobutton>
        <label for="Yes" class="ml-2">Yes</label>
        <p-radiobutton [value]="false" formControlName="notif" inputId="No"></p-radiobutton>
        <label for="No" class="ml-2">No</label><br>

        <button type="submit">Register</button>
    </form>
} @else {
    <div>No user</div>
}
</div>

